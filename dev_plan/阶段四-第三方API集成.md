# 阶段四：第三方API集成

## 目标

集成所有第三方API服务，提供完整的AI旅行规划功能。

## 主要任务

- 高德地图API集成
- 科大讯飞语音识别集成
- 智谱GLM搜索API集成
- OpenAI API集成

## API集成要点

- 高德地图：地点搜索、路线规划、地图展示
- 科大讯飞：语音输入、语音转文字
- 智谱GLM：增强搜索、信息获取
- OpenAI：行程生成、预算分析

## 服务配置

- 所有API密钥由用户提供
- **API密钥安全存储**：使用用户登录密码进行AES加密存储，使用时由客户端解密
- 所有请求由客户端发出。需要使用API密钥时服务器向客户端传输加密之后的密钥，客户端解密后在客户端向API发起请求，并根据需求将后端可能需要的请求结果发送会服务端。从而避免密钥明文被传输。
- 服务可独立启用/禁用
- 错误处理和降级方案
- 请求限流和缓存

## 技术实现

- 后端API代理
- WebSocket语音识别
- 地图JavaScript桥接
- AI服务工具调用
